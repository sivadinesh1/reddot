<!-- @format -->
<ion-content>
	<div class="content">
		<app-messages></app-messages>
		<div class="screen-header">
			<div>
				<span (click)="searchProducts()">
					<span style="font-size: 16px; color: #797979; cursor: pointer;">
						Search Products
					</span>
					>
				</span>
			</div>
			<div>
				&nbsp;Add Product
			</div>
		</div>

		<form [formGroup]="submitForm" (ngSubmit)="submit()">
			<ng-template matStepLabel>Basic Info</ng-template>
			<div class="step1">
				<div class="code">
					<mat-form-field class="mat-width-ext">
						<mat-label>Code</mat-label>
						<input matInput placeholder="Code" (blur)="isProdExists()" formControlName="product_code" required />
						<mat-error>This field is required</mat-error>
					</mat-form-field>
					<div *ngIf="pexists" class="error">Already Exists <span class="cursor" (click)="goProdEdit()">{{this.prod_code}}</span></div>
				</div>
				<div class="desc">
					<mat-form-field class="mat-width-ext">
						<mat-label>Description</mat-label>
						<input matInput placeholder="Description" formControlName="description" required />
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Brands</mat-label>
						<mat-select formControlName="brand_id">
							<mat-option *ngFor="let item of brands" [value]="item.id">
								{{item.name}}
							</mat-option>
						</mat-select>
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>UOM</mat-label>
						<mat-select formControlName="unit">
							<mat-option *ngFor="let item of uom" [value]="item.key">
								{{item.viewValue}}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</div>
				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Packet Size</mat-label>
						<input matInput type="number" formControlName="packetsize" placeholder="Packet Size" required />
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>HSN Code</mat-label>
						<input matInput formControlName="hsncode" placeholder="HSN Code" required />
						<mat-hint matTooltip="Info about the action">What is HSN Code?</mat-hint>
					</mat-form-field>
				</div>
				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Tax Rate (%)</mat-label>
						<input matInput type="number" formControlName="taxrate" placeholder="Tax Rate (%)" required />
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Min. Qty</mat-label>
						<input matInput type="number" formControlName="minqty" placeholder="Min Stock Qty" required />
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Unit/Price</mat-label>
						<input matInput type="number" formControlName="unit_price" placeholder="Unit Price" required />
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>MRP</mat-label>
						<input matInput type="number" formControlName="mrp" placeholder="Mrp" required />
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Purchase Price</mat-label>
						<input matInput type="number" formControlName="purchase_price" placeholder="Purchase PRice" required />
						<mat-error>This field is required</mat-error>
					</mat-form-field>
				</div>
				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Sale Price</mat-label>
						<input matInput type="number" formControlName="salesprice" placeholder="Sale Price" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Max. Discount</mat-label>
						<input matInput type="number" formControlName="maxdiscount" required placeholder="Max Discount" />
						<mat-hint matTooltip="Info about the action">Hint: Max 100</mat-hint>
					</mat-form-field>
				</div>
				<div>
					<mat-form-field class="mat-width-ext">
						<mat-label>Rack #</mat-label>
						<input matInput type="number" formControlName="rackno" required placeholder="Rack #" />
					</mat-form-field>
				</div>
			</div>

			<div style="text-align: center;">
				<button mat-stroked-button type="button">Clear</button>&nbsp;&nbsp;
				<button mat-raised-button color="primary" (click)="submit()" type="button">+ Add Product</button>
			</div>
		</form>
	</div>
</ion-content>
