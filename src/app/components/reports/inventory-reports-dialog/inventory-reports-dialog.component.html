<ion-content>
	<div class="screen-header">
		<div>&nbsp;</div>

		<div style="align-items: center">
			<img class="cursor" src="/assets/images/svg/close.svg" (click)="closeModal()" width="16px" height="16px" />
		</div>
	</div>

	<div style="width: 80%; margin: 0 auto; display: grid; grid-template-columns: 140px 300px 200px 120px 1fr 70px">
		<div>
			<div style="font-size: 12px; color: #747474">Product Code:</div>
			<div style="font-size: 16px; color: black">{{ product_code }}</div>
		</div>
		<div>
			<div style="font-size: 12px; color: #747474">Description:</div>
			<div style="font-size: 16px; color: black">{{ this.resultList[0]?.product_description }}</div>
		</div>
		<div>
			<div style="font-size: 12px; color: #747474">Latest MRP:</div>
			<div style="font-size: 16px; color: black">{{ this.resultList[0]?.mrp }}</div>
		</div>
		<div>
			<div style="font-size: 12px; color: #747474">Brand:</div>
			<div style="font-size: 16px; color: black">{{ this.resultList[0]?.brand_name }}</div>
		</div> 
		<div>&nbsp;</div>
		<div>
			<div style="font-size: 12px; color: #747474">Records:</div>
			<div style="font-size: 16px; color: black">{{ resultList?.length }}</div>
		</div>
	</div>
	<div #epltable>
		<table style="width: 80%; margin: 0 auto">
			<thead>
				<tr class="header">
					<th style="text-align: left">Invoice #</th>
					<th style="text-align: left">Invoice Date</th>
					<th style="text-align: left">Customer/Vendor</th>

					<th style="text-align: right">Purchase</th>
					<th style="text-align: right">Sale</th>

					<th style="text-align: right">Stock Balance</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let item of resultList ? resultList : []; let idx = index" class="list-item plain-row-color-nohover">
					<td
						style="text-align: left; color: blue; cursor: pointer"
						(click)="openDialog(item.module, item.invoice_no, item.sale_id, item.purchase_id, item.customer_id, item.vendor_id)"
					>
						{{ item?.invoice_no }}
					</td>
					<td style="text-align: left">{{ item?.invoice_date }}</td>
					<td style="text-align: left">
						{{ item.customer_name === null ? item.vendor_name : item.customer_name }}
						<span *ngIf="item?.action_type === 'New Product'">({{ item?.action_type }})</span>
					</td>

					<td style="text-align: right">
						<span *ngIf="item?.module === 'Purchase'">
							{{ item?.txn_qty }}
							<span *ngIf="item?.action_type === 'Mod/Del'">({{ item?.action_type }})</span>
						</span>
						<span *ngIf="item?.module !== 'Purchase'"> - </span>
					</td>

					<td style="text-align: right">
						<span *ngIf="item?.module === 'Sale'">
							{{ item?.txn_qty }}
							<span *ngIf="item?.action_type === 'Mod/Del'">({{ item?.action_type }})</span>
							<span *ngIf="item?.action_type === 'Edited'">({{ item?.action_type }})</span>
						</span>
						<span *ngIf="item?.module !== 'Sale'"> - </span>
					</td>

					<td style="text-align: right">{{ item?.stock_level }}</td>
				</tr>

				<tr *ngIf="resultList?.length === 0">
					<span style="color: blue">No Records</span>
				</tr>
			</tbody>
		</table>
	</div>
</ion-content>
