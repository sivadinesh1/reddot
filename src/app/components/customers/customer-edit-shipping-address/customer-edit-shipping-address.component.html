<div class="content">
	<div class="screen-header">
		<div>
			Edit Customer Details
		</div>
		<div>
			<img class="cursor" src="/assets/images/svg/close.svg" (click)="close()" width="20px" height="20px" />
		</div>
	</div>

	<ng-container>
		<div class="example-container mat-elevation-z8">
			<div class="example-table-container" #epltable>
				<table mat-table [dataSource]="dataSource" multiTemplateDataRows>
					<ng-container matColumnDef="stat">
						<th mat-header-cell *matHeaderCellDef></th>
						<td mat-cell *matCellDef="let element" class="m-card-title">{{ element.def_address === "Y" ? "default" : "" }}</td>
					</ng-container>

					<ng-container matColumnDef="address1">
						<th mat-header-cell *matHeaderCellDef>Address1</th>
						<td mat-cell *matCellDef="let element" class="m-card-title">{{ element.address1 }}</td>
					</ng-container>

					<ng-container matColumnDef="address2">
						<th mat-header-cell *matHeaderCellDef>Address2</th>
						<td mat-cell *matCellDef="let element" class="m-card-title">{{ element.address2 }}</td>
					</ng-container>

					<ng-container matColumnDef="district">
						<th mat-header-cell *matHeaderCellDef>District</th>
						<td mat-cell *matCellDef="let element" class="m-card-title">{{ element.district }}</td>
					</ng-container>
					<ng-container matColumnDef="state">
						<th mat-header-cell *matHeaderCellDef>State</th>
						<td mat-cell *matCellDef="let element" class="m-card-title">{{ element.state_name }}</td>
					</ng-container>
					<ng-container matColumnDef="pin">
						<th mat-header-cell *matHeaderCellDef>Pin</th>
						<td mat-cell *matCellDef="let element" class="m-card-title">{{ element.pin }}</td>
					</ng-container>

					<ng-container matColumnDef="actions">
						<th mat-header-cell *matHeaderCellDef>&nbsp;</th>
						<td mat-cell *matCellDef="let element">
							<mat-icon style="cursor: pointer;" (click)="internalEdit(element)">edit</mat-icon>
						</td>
					</ng-container>

					<tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
					<tr
						class="example-element-row"
						[ngClass]="{ selected: selectedRowIndex == row.id }"
						(click)="highlight(row)"
						mat-row
						*matRowDef="let row; columns: displayedColumns"
					></tr>
				</table>
				<div [hidden]="isTableHasData" class="center-message">
					No Data available.
				</div>
			</div>
			<mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
		</div>
	</ng-container>

	<div>
		<div *ngIf="mode === 'add'" style="padding: 16px 0px 0px 32px; font-size: 14px; color: #666666;">Add new shipping address</div>

		<div *ngIf="mode === 'update'" style="padding: 16px 0px 0px 32px; font-size: 14px; color: #666666;">Update shipping address</div>

		<form class="myForm" [formGroup]="submitForm">
			<div class="customer-info">
				<div class="address1">
					<mat-form-field class="mat-width-ext">
						<mat-label>Address Line 1</mat-label>
						<input matInput formControlName="address1" />
					</mat-form-field>
				</div>
				<div class="address2">
					<mat-form-field class="mat-width-ext">
						<mat-label>Address Line 2</mat-label>
						<input matInput formControlName="address2" />
					</mat-form-field>
				</div>

				<div class="district">
					<mat-form-field class="mat-width-ext">
						<mat-label>District</mat-label>
						<input matInput formControlName="district" />
					</mat-form-field>
				</div>

				<div class="state">
					<mat-form-field class="mat-width-ext">
						<mat-label>State</mat-label>
						<mat-select formControlName="state_id" required>
							<mat-option *ngFor="let item of statesdata" [value]="item.id">
								{{ item.description }}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</div>

				<div class="pin">
					<mat-form-field class="mat-width-ext">
						<mat-label>Pin</mat-label>
						<input matInput formControlName="pin" />
					</mat-form-field>
				</div>
				<div><mat-checkbox formControlName="def_address">Mark as default</mat-checkbox></div>
			</div>

			<div style="display: grid; grid-column: 1 / span 5; text-align: left; width: 80%; margin: 0 auto;" class="error">
				{{ responsemsg }}
			</div>

			<div *ngIf="mode === 'add'" style="display: grid; width: 80%; margin: 0 auto; grid-column: 1 / span 5;">
				<div style="text-align: center;">
					<button mat-raised-button color="primary" type="button" (click)="onSubmit('add')">Add new Address</button>
				</div>
			</div>

			<div *ngIf="mode === 'update'" style="display: grid; width: 80%; margin: 0 auto; grid-column: 1 / span 5;">
				<div style="text-align: center;">
					<button mat-raised-button color="primary" type="button" (click)="onSubmit('update')">Update Address</button>
				</div>
			</div>
		</form>
	</div>
</div>
